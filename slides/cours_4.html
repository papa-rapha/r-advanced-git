<!DOCTYPE html>
<html lang="en"><head>
<script src="cours_4_files/libs/clipboard/clipboard.min.js"></script>
<script src="cours_4_files/libs/quarto-html/tabby.min.js"></script>
<script src="cours_4_files/libs/quarto-html/popper.min.js"></script>
<script src="cours_4_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="cours_4_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cours_4_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="cours_4_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.269">

  <meta name="author" content="Raphaël Nedellec">
  <title>R avancé et introduction à Git</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="cours_4_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="cours_4_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="cours_4_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="cours_4_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="cours_4_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="cours_4_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="cours_4_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="cours_4_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="cours_4_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">R avancé et introduction à Git</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Raphaël Nedellec 
</div>
</div>
</div>

</section>
<section>
<section id="programmation-littéraire-et-science-reproductible" class="title-slide slide level1 center">
<h1>Programmation littéraire et science reproductible</h1>

</section>
<section id="avoir-un-workflow-de-datascience-reproductible" class="slide level2">
<h2>Avoir un ‘workflow’ de datascience reproductible</h2>
<div>
<ul>
<li class="fragment">Pouvoir expliquer et reproduire ses résultats aujourd’hui comme dans N jours/mois/années.</li>
<li class="fragment">En datascience, il est aussi important de s’adresser correctement à ses collègues qu’à sa machine.</li>
<li class="fragment">Avoir un workflow efficace lorsque les calculs et les processus sont compliqués.</li>
<li class="fragment">Pouvoir travailler de manière collaborative.</li>
</ul>
</div>
</section>
<section id="agenda" class="slide level2">
<h2>Agenda</h2>
<div>
<ul>
<li class="fragment">Programmation littéraire avec <a href="https://quarto.org/"><code>quarto</code></a></li>
<li class="fragment">Simplification du workflow et reproductibilité avec <a href="https://docs.ropensci.org/targets/"><code>targets</code></a></li>
<li class="fragment">Gestion des dépendances avec <a href="https://rstudio.github.io/renv/articles/renv.html"><code>renv</code></a></li>
<li class="fragment"><code>Version control</code> : <a href="https://git-scm.com/">git</a> au prochain cours !</li>
</ul>
</div>
</section></section>
<section>
<section id="programmation-littéraire-avec-quarto" class="title-slide slide level1 center">
<h1>Programmation littéraire avec <code>quarto</code></h1>

</section>
<section id="programmation-littéraire" class="slide level2">
<h2>Programmation littéraire</h2>
<blockquote>
<p>Let us change our traditional attitude to the construction of programs: Instead of imagining that our main task is to instruct a computer what to do, let us concentrate rather on explaining to human beings what we want a computer to do.</p>
</blockquote>
<p><a href="https://en.wikipedia.org/wiki/Donald_Knuth">Donald Knuth</a></p>
</section>
<section id="motivation-originelle-de-yuhie-xie-créateur-de-knitrrmarkdown" class="slide level2">
<h2>Motivation originelle de Yuhie Xie (créateur de knitr/rmarkdown)</h2>

<img data-src="images/literate_prog_1.png" class="r-stretch quarto-figure-center"></section>
<section id="programmation-littéraire-pour-la-datascience" class="slide level2">
<h2>Programmation littéraire pour la datascience</h2>
<div>
<ul>
<li class="fragment">Reproductibilité des résultats</li>
<li class="fragment">Explications, codes et résultats dans le même document</li>
</ul>
</div>
<div class="fragment">
<p>Un outil et une méthode précieuse pour rendre intelligibles et reproductibles ses études. Un gain précieux en efficacité.</p>
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Outils</strong></p>
</div>
<div class="callout-content">
<p>Notebook (jupyter), Rmarkdown, Quarto</p>
</div>
</div>
</div>
</div>
</section>
<section id="rmarkdown" class="slide level2">
<h2>rmarkdown</h2>
<p>Un peu d’histoire</p>
<div>
<ul>
<li class="fragment">Engine <code>knitr</code> (2011), avec des dialectes , markdown</li>
<li class="fragment"><code>rmarkdown</code> (2015)</li>
<li class="fragment">Et désormais, <code>quarto</code> (2022)</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Histoire de rmarkdown par l’auteur de la librairie</strong></p>
</div>
<div class="callout-content">
<p><a href="https://slides.yihui.org/2021-Brazilian-R-Day.html#1" class="uri">https://slides.yihui.org/2021-Brazilian-R-Day.html#1</a></p>
</div>
</div>
</div>
</div>
</section>
<section id="rmarkdown-vs-quarto" class="slide level2">
<h2>rmarkdown vs quarto</h2>
<div>
<ul>
<li class="fragment"><code>quarto</code> reprend la philosophie de rmarkdown</li>
<li class="fragment">mais est agnostique au langage (compatible R, python, …)</li>
<li class="fragment">les fichiers .rmd peuvent être compilés avec <code>quarto</code> (pour la plupart)</li>
<li class="fragment">aujourd’hui, sauf exceptions, privilégier <code>quarto</code></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Vignettes</strong></p>
</div>
<div class="callout-content">
<p>Le CRAN ne supporte pas (encore) les vignettes générées par <code>quarto</code> aujourd’hui. C’est un des rares cas où privilégier <code>rmarkdown</code>.</p>
</div>
</div>
</div>
</div>
</section>
<section id="rmarkdown-vs-quarto-1" class="slide level2">
<h2>rmarkdown vs quarto</h2>
<div class="columns">
<div class="column" style="width:45%;">
<p>Avec quarto :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1"></a><span class="in">```{r}</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="co">#| eval: false</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co">#| label: chunk-quarto</span></span>
<span id="cb1-4"><a href="#cb1-4"></a></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:55%;">
<p>Avec rmarkdown :</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1"></a><span class="in">```{r chunk-rmarkdown, eval=FALSE}</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="dv">1</span> <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment">
<p>Paramètres du ‘bloc’ dans les accolades en rmarkdown, après <code>#|</code> en quarto.</p>
</div>
</section>
<section id="quarto" class="slide level2">
<h2>quarto</h2>
<p>Metadata du document : YAML</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1"></a><span class="pp">---</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"first quarto"</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">"Raphaël Nedellec"</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">"27/01/2023"</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="fu">format</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="at">    </span><span class="fu">code-fold</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="fragment">
<p>Multiples formats : <a href="https://quarto.org/docs/reference/formats/html.html">html</a>, <a href="https://quarto.org/docs/reference/formats/pdf.html">PDF</a>, <a href="https://quarto.org/docs/reference/formats/docx.html">MS Word</a>, <a href="https://quarto.org/docs/reference/formats/odt.html">OpenOffice</a>, <a href="https://quarto.org/docs/reference/formats/epub.html">ePub</a>, <a href="https://quarto.org/docs/reference/formats/presentations/revealjs.html">Revealjs</a>, <a href="https://quarto.org/docs/reference/formats/presentations/pptx.html">PowerPoint</a>, <a href="https://quarto.org/docs/reference/formats/presentations/beamer.html">Beamer</a>, et de nombreux autres</p>
</div>
</section>
<section id="quarto-project" class="slide level2">
<h2>quarto : project</h2>
<p>Documents, présentations, mais aussi ‘websites’ ou ‘books’</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource yaml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1"></a><span class="pp">---</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="fu">project</span><span class="kw">:</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="at">  </span><span class="fu">type</span><span class="kw">:</span><span class="at"> website</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="fu">website</span><span class="kw">:</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="at">  </span><span class="fu">title</span><span class="kw">:</span><span class="at"> R Manuals</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="at">  </span><span class="fu">navbar</span><span class="kw">:</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="at">    </span><span class="fu">background</span><span class="kw">:</span><span class="at"> primary</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="at">  ...</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="pp">---</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Exemple : ce cours est hébergé sur un <a href="https://github.com/papa-rapha/r-advanced-git/blob/master/_quarto.yaml">site</a> quarto. Les <a href="https://github.com/papa-rapha/r-advanced-git/blob/master/slides/cours_1.qmd">slides</a> des cours sont aussi écrites en quarto avec revealjs, les <a href="https://github.com/papa-rapha/r-advanced-git/blob/master/exercises/sem_1.qmd">sujets d’exercices</a> en quarto - pdf.</p>
</section>
<section id="quarto-code-chunk-r" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">quarto : ‘code chunk’ R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource markdown number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode markdown hljs"><span id="cb5-1" class="hljs-ln-code"><a href="#cb5-1"></a><span class="in">```{r}</span></span>
<span id="cb5-2" class="hljs-ln-code"><a href="#cb5-2"></a><span class="co">#| label: fig-airquality-unfolded</span></span>
<span id="cb5-3" class="hljs-ln-code"><a href="#cb5-3"></a><span class="co">#| fig-cap: Temperature and ozone level.</span></span>
<span id="cb5-4" class="hljs-ln-code"><a href="#cb5-4"></a><span class="co">#| warning: false</span></span>
<span id="cb5-5" class="hljs-ln-code"><a href="#cb5-5"></a><span class="co">#| code-fold: false</span></span>
<span id="cb5-6" class="hljs-ln-code"><a href="#cb5-6"></a><span class="co">#| eval: false</span></span>
<span id="cb5-7" class="hljs-ln-code"><a href="#cb5-7"></a></span>
<span id="cb5-8" class="hljs-ln-code"><a href="#cb5-8"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb5-9" class="hljs-ln-code"><a href="#cb5-9"></a></span>
<span id="cb5-10" class="hljs-ln-code"><a href="#cb5-10"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(Temp, Ozone)) <span class="sc">+</span> </span>
<span id="cb5-11" class="hljs-ln-code"><a href="#cb5-11"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb5-12" class="hljs-ln-code"><a href="#cb5-12"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>)</span>
<span id="cb5-13" class="hljs-ln-code"><a href="#cb5-13"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="quarto-code-chunk-r-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">quarto : ‘code chunk’ R</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource markdown number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode markdown hljs"><span id="cb6-1" class="hljs-ln-code"><a href="#cb6-1"></a><span class="in">```{r}</span></span>
<span id="cb6-2" class="hljs-ln-code"><a href="#cb6-2"></a><span class="co">#| label: fig-airquality-folded</span></span>
<span id="cb6-3" class="hljs-ln-code"><a href="#cb6-3"></a><span class="co">#| fig-cap: Temperature and ozone level.</span></span>
<span id="cb6-4" class="hljs-ln-code"><a href="#cb6-4"></a><span class="co">#| warning: false</span></span>
<span id="cb6-5" class="hljs-ln-code"><a href="#cb6-5"></a><span class="co">#| code-fold: true</span></span>
<span id="cb6-6" class="hljs-ln-code"><a href="#cb6-6"></a><span class="co">#| eval: true</span></span>
<span id="cb6-7" class="hljs-ln-code"><a href="#cb6-7"></a></span>
<span id="cb6-8" class="hljs-ln-code"><a href="#cb6-8"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb6-9" class="hljs-ln-code"><a href="#cb6-9"></a></span>
<span id="cb6-10" class="hljs-ln-code"><a href="#cb6-10"></a><span class="fu">ggplot</span>(airquality, <span class="fu">aes</span>(Temp, Ozone)) <span class="sc">+</span> </span>
<span id="cb6-11" class="hljs-ln-code"><a href="#cb6-11"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb6-12" class="hljs-ln-code"><a href="#cb6-12"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>)</span>
<span id="cb6-13" class="hljs-ln-code"><a href="#cb6-13"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="cours_4_files/figure-revealjs/fig-airquality-folded-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Figure&nbsp;1: Temperature and ozone level.</p></section>
<section id="quarto-code-chunk-r-2" class="slide level2">
<h2>quarto : ‘code chunk’ R</h2>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource {{r}} number-lines code-with-copy"><code class="sourceCode"><span id="cb7-1"><a href="#cb7-1"></a>#| echo: true/false/fenced</span>
<span id="cb7-2"><a href="#cb7-2"></a>#| eval: true/false</span>
<span id="cb7-3"><a href="#cb7-3"></a>#| warning: true/false</span>
<span id="cb7-4"><a href="#cb7-4"></a>#| error: true/false</span>
<span id="cb7-5"><a href="#cb7-5"></a>#| label: "my-chunk"</span>
<span id="cb7-6"><a href="#cb7-6"></a>#| fig-*: ...</span>
<span id="cb7-7"><a href="#cb7-7"></a>#| tab-*: ...</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Liste complète des options de blocs de code avec knitr disponible <a href="https://yihui.org/knitr/options/">ici</a></p>
</section>
<section id="quarto-aussi-en-python" class="slide level2">
<h2>quarto : aussi en Python</h2>
<div>
<ul>
<li class="fragment">Tout comme rmarkdown, les blocs de code ne sont pas nécessairement en R.</li>
<li class="fragment">Autres langages : Python, R, Julia, Observable.js</li>
<li class="fragment">Quarto, à la différence de rmarkdown, est totalement agnostique envers le langage. C’est un outil aussi très utile en Python !</li>
</ul>
</div>
</section>
<section id="quarto-en-résumé" class="slide level2">
<h2>quarto en résumé</h2>
<div>
<ul>
<li class="fragment">Programmation littéraire.</li>
<li class="fragment">Document auto-portant avec texte, code et résultats réunis.</li>
<li class="fragment">Hautement configurable, multiples formats de projets disponibles.</li>
<li class="fragment">Templates et thèmes customisables.</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>quarto</strong></p>
</div>
<div class="callout-content">
<p>À utiliser aussi souvent que possible pour une analyse de données ou un projet de datascience.</p>
</div>
</div>
</div>
</div>
</section>
<section id="mais-alors-quand-utiliser-des-fichiers-.r" class="slide level2">
<h2>Mais alors, quand utiliser des fichiers .R ?</h2>
<div>
<ul>
<li class="fragment">pour définir des fonctions, dans des packages</li>
<li class="fragment">avec parcimonie, pour sourcer des fonctions (<code>source()</code>)</li>
<li class="fragment">lorsque l’on écrit un vrai script à appeler en ligne de commande avec <a href="https://www.rdocumentation.org/packages/utils/versions/3.6.2/topics/Rscript">Rscript</a></li>
<li class="fragment">avec targets</li>
</ul>
</div>
</section></section>
<section>
<section id="études-reproductibles-avec-targets" class="title-slide slide level1 center">
<h1>Études reproductibles avec <code>targets</code></h1>

</section>
<section id="targets-motivation" class="slide level2">
<h2><code>targets</code> : motivation</h2>
<blockquote>
<p>The targets package is a Make-like pipeline tool for Statistics and data science in R. With targets, you can maintain a reproducible workflow without repeating yourself. targets learns how your pipeline fits together, skips costly runtime for tasks that are already up to date, runs only the necessary computation, supports implicit parallel computing, abstracts files as R objects, and shows tangible evidence that the results match the underlying code and data.</p>
</blockquote>
<p>Developpé par Will Landau</p>
</section>
<section id="targets-motivation-1" class="slide level2">
<h2><code>targets</code> : motivation</h2>
<p>Expérience classique lors d’un projet de data science :</p>
<div>
<ol type="1">
<li class="fragment">Ecrire du code, l’exécuter</li>
<li class="fragment">Attendre (longtemps…) la fin de l’exécution</li>
<li class="fragment">Découvrir une erreur, corriger</li>
<li class="fragment">Redémarrer à l’étape 1.</li>
</ol>
</div>
</section>
<section id="outils-de-pipeline" class="slide level2">
<h2>Outils de ‘pipeline’</h2>
<div>
<ul>
<li class="fragment">Des solutions et outils de ‘pipeline’ permettent de mettre fin à ce cercle vicieux</li>
<li class="fragment"><a href="https://www.gnu.org/software/make/">GNU-make</a></li>
<li class="fragment">targets : spécialement désigné pour exécuter du code R</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Vidéo d’intro</strong></p>
</div>
<div class="callout-content">
<p>Vidéo d’intro à targets de 4 minutes : <a href="https://vimeo.com/700982360" class="uri">https://vimeo.com/700982360</a></p>
</div>
</div>
</div>
</div>
</section>
<section id="targets-workflow" class="slide level2">
<h2>targets workflow</h2>
<p>Organisation du projet :</p>
<pre><code>├── _targets.R      # fichier de configuration du workflow
├── data.csv        # jeu de données
├── R/ 
│   ├── functions.R # fichier de fonctions</code></pre>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Organisation du projet</strong></p>
</div>
<div class="callout-content">
<p><code>targets::use_targets</code> permet d’initialiser la structure du projet. Cette structure peut être adaptée.</p>
</div>
</div>
</div>
</div>
</section>
<section id="example-data.csv" class="slide level2">
<h2>example : data.csv</h2>
<pre><code>Ozone,Solar.R,Wind,Temp,Month,Day
36,118,8.0,72,5,2
12,149,12.6,74,5,3
...</code></pre>
</section>
<section id="example-functions.r" class="slide level2">
<h2>example : functions.R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="co"># R/functions.R</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>get_data <span class="ot">&lt;-</span> <span class="cf">function</span>(file) {</span>
<span id="cb10-3"><a href="#cb10-3"></a>  <span class="fu">read_csv</span>(file, <span class="at">col_types =</span> <span class="fu">cols</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(Ozone))</span>
<span id="cb10-5"><a href="#cb10-5"></a>}</span>
<span id="cb10-6"><a href="#cb10-6"></a></span>
<span id="cb10-7"><a href="#cb10-7"></a>fit_model <span class="ot">&lt;-</span> <span class="cf">function</span>(data) {</span>
<span id="cb10-8"><a href="#cb10-8"></a>  <span class="fu">lm</span>(Ozone <span class="sc">~</span> Temp, data) <span class="sc">%&gt;%</span></span>
<span id="cb10-9"><a href="#cb10-9"></a>    <span class="fu">coefficients</span>()</span>
<span id="cb10-10"><a href="#cb10-10"></a>}</span>
<span id="cb10-11"><a href="#cb10-11"></a></span>
<span id="cb10-12"><a href="#cb10-12"></a>plot_model <span class="ot">&lt;-</span> <span class="cf">function</span>(model, data) {</span>
<span id="cb10-13"><a href="#cb10-13"></a>  <span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb10-14"><a href="#cb10-14"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Temp, <span class="at">y =</span> Ozone)) <span class="sc">+</span></span>
<span id="cb10-15"><a href="#cb10-15"></a>    <span class="fu">geom_abline</span>(<span class="at">intercept =</span> model[<span class="dv">1</span>], <span class="at">slope =</span> model[<span class="dv">2</span>])</span>
<span id="cb10-16"><a href="#cb10-16"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="targets-fichier-de-configuration" class="slide level2">
<h2><code>targets</code> : fichier de configuration</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">library</span>(targets)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">source</span>(<span class="st">"R/functions.R"</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="fu">tar_option_set</span>(<span class="at">packages =</span> <span class="fu">c</span>(<span class="st">"readr"</span>, <span class="st">"dplyr"</span>, <span class="st">"ggplot2"</span>))</span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="fu">list</span>(</span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="fu">tar_target</span>(file, <span class="st">"data.csv"</span>, <span class="at">format =</span> <span class="st">"file"</span>),</span>
<span id="cb11-6"><a href="#cb11-6"></a>  <span class="fu">tar_target</span>(data, <span class="fu">get_data</span>(file)),</span>
<span id="cb11-7"><a href="#cb11-7"></a>  <span class="fu">tar_target</span>(model, <span class="fu">fit_model</span>(data)),</span>
<span id="cb11-8"><a href="#cb11-8"></a>  <span class="fu">tar_target</span>(plot, <span class="fu">plot_model</span>(model, data))</span>
<span id="cb11-9"><a href="#cb11-9"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="inspecter-la-pipeline-avec-tar_manifest" class="slide level2">
<h2>Inspecter la pipeline avec <code>tar_manifest</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">tar_manifest</span>(<span class="at">fields =</span> <span class="fu">all_of</span>(<span class="st">"command"</span>))</span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="co">#&gt; # A tibble: 4 × 2</span></span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="co">#&gt;   name  command                  </span></span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;                    </span></span>
<span id="cb12-5"><a href="#cb12-5"></a><span class="co">#&gt; 1 file  "\"data.csv\""           </span></span>
<span id="cb12-6"><a href="#cb12-6"></a><span class="co">#&gt; 2 data  "get_data(file)"         </span></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="co">#&gt; 3 model "fit_model(data)"        </span></span>
<span id="cb12-8"><a href="#cb12-8"></a><span class="co">#&gt; 4 plot  "plot_model(model, data)"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="inspecter-la-pipeline-avec-tar_visnetwork" class="slide level2">
<h2>Inspecter la pipeline avec <code>tar_visnetwork</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">tar_visnetwork</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="images/targets_0.png" class="r-stretch"></section>
<section id="executer-la-pipeline-avec-tar_make" class="slide level2">
<h2>Executer la pipeline avec <code>tar_make</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">tar_make</span>()</span>
<span id="cb14-2"><a href="#cb14-2"></a><span class="co">#&gt; • start target file</span></span>
<span id="cb14-3"><a href="#cb14-3"></a><span class="co">#&gt; • built target file [0.494 seconds]</span></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co">#&gt; • start target data</span></span>
<span id="cb14-5"><a href="#cb14-5"></a><span class="co">#&gt; • built target data [0.203 seconds]</span></span>
<span id="cb14-6"><a href="#cb14-6"></a><span class="co">#&gt; • start target model</span></span>
<span id="cb14-7"><a href="#cb14-7"></a><span class="co">#&gt; • built target model [0.004 seconds]</span></span>
<span id="cb14-8"><a href="#cb14-8"></a><span class="co">#&gt; • start target plot</span></span>
<span id="cb14-9"><a href="#cb14-9"></a><span class="co">#&gt; • built target plot [0.015 seconds]</span></span>
<span id="cb14-10"><a href="#cb14-10"></a><span class="co">#&gt; • end pipeline [0.864 seconds]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="collecter-les-objets-intermédiaires-avec-tar_read" class="slide level2">
<h2>Collecter les objets intermédiaires avec <code>tar_read</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">tar_read</span>(plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="images/targets_1.png" class="r-stretch"></section>
<section id="nouvelle-inspection" class="slide level2">
<h2>Nouvelle inspection</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">tar_visnetwork</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="images/targets_2.png" class="r-stretch"></section>
<section id="nouveau-run" class="slide level2">
<h2>Nouveau run</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">tar_make</span>()</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="co">#&gt; ✔ skip target file</span></span>
<span id="cb17-3"><a href="#cb17-3"></a><span class="co">#&gt; ✔ skip target data</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="co">#&gt; ✔ skip target model</span></span>
<span id="cb17-5"><a href="#cb17-5"></a><span class="co">#&gt; ✔ skip target plot</span></span>
<span id="cb17-6"><a href="#cb17-6"></a><span class="co">#&gt; ✔ skip pipeline [0.092 seconds]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="edition-du-fichier-de-fonctions" class="slide level2">
<h2>Edition du fichier de fonctions</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a><span class="co"># Edit functions.R...</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>plot_model <span class="ot">&lt;-</span> <span class="cf">function</span>(model, data) {</span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">ggplot</span>(data) <span class="sc">+</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Temp, <span class="at">y =</span> Ozone)) <span class="sc">+</span></span>
<span id="cb18-5"><a href="#cb18-5"></a>    <span class="fu">geom_abline</span>(<span class="at">intercept =</span> model[<span class="dv">1</span>], <span class="at">slope =</span> model[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>    <span class="fu">theme_gray</span>(<span class="dv">24</span>) <span class="co"># Increased the font size.</span></span>
<span id="cb18-7"><a href="#cb18-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="nouvelle-inspection-1" class="slide level2">
<h2>Nouvelle inspection</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>tar_visnetwork</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="images/targets_3.png" class="r-stretch"></section>
<section id="targets-et-programmation-littéraire" class="slide level2">
<h2>targets et programmation littéraire</h2>
<ol type="1">
<li>Programmation littéraire dans le workflow :</li>
</ol>
<div>
<ul>
<li class="fragment">En exécutant la pipeline en premier, puis en appelant les résultats de la pipeline dans le document (avec les fonctions <code>tar_read</code> ou <code>tar_load</code>).</li>
<li class="fragment">On peut aussi intégrer une étape de rendering d’un document rmarkdown ou quarto directement avec la fonction <code>tarchetypes::tar_render</code> ou <code>tarchetypes::tar_quarto</code></li>
</ul>
</div>
<div class="fragment">
<ol start="2" type="1">
<li><code>target markdown</code>: le workflow est embarqué dans le document.</li>
</ol>
</div>
</section>
<section id="targets-en-résumé" class="slide level2">
<h2><code>targets</code> en résumé</h2>
<div>
<ul>
<li class="fragment">Outil de pipeline avancé en R</li>
<li class="fragment">Optimisation des calculs</li>
<li class="fragment">Evite la gestion manuelle du ‘cache’</li>
<li class="fragment">Integré avec <code>quarto</code> et <code>rmarkdown</code></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-tip callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Projets de datascience</strong></p>
</div>
<div class="callout-content">
<p>À utiliser sur les projets de datascience et d’analyse de données avec de multiples étapes et des analyses longues.</p>
</div>
</div>
</div>
</div>
</section></section>
<section>
<section id="gestion-des-dépendances-avec-renv" class="title-slide slide level1 center">
<h1>Gestion des dépendances avec <code>renv</code></h1>

</section>
<section id="information-de-la-session" class="slide level2">
<h2>Information de la session</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>devtools<span class="sc">::</span><span class="fu">session_info</span>() <span class="co"># alternative à sessionInfo()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>#&gt; ─ Session info ───────────────────────────────────────────────────────────────
#&gt;  setting  value
#&gt;  version  R version 4.2.2 Patched (2022-11-10 r83330)
#&gt;  os       Ubuntu 22.04.1 LTS
#&gt;  system   x86_64, linux-gnu
#&gt;  ui       X11
#&gt;  language (EN)
#&gt;  collate  en_US.UTF-8
#&gt;  ctype    en_US.UTF-8
#&gt;  tz       Europe/Berlin
#&gt;  date     2023-01-26
#&gt;  pandoc   NA (via rmarkdown)
#&gt; 
#&gt; ─ Packages ───────────────────────────────────────────────────────────────────
#&gt;  ! package     * version date (UTC) lib source
#&gt;  P cachem        1.0.6   2021-08-19 [?] CRAN (R 4.2.1)
#&gt;  P callr         3.7.3   2022-11-02 [?] CRAN (R 4.2.2)
#&gt;    cli           3.4.1   2022-09-23 [1] CRAN (R 4.2.2)
#&gt;  P colorspace    2.1-0   2023-01-23 [?] CRAN (R 4.2.2)
#&gt;    crayon        1.5.2   2022-09-29 [1] CRAN (R 4.2.2)
#&gt;  P devtools      2.4.5   2022-10-11 [?] CRAN (R 4.2.2)
#&gt;  P digest        0.6.30  2022-10-18 [?] CRAN (R 4.2.2)
#&gt;  P dplyr         1.0.10  2022-09-01 [?] CRAN (R 4.2.1)
#&gt;  P ellipsis      0.3.2   2021-04-29 [?] CRAN (R 4.2.1)
#&gt;  P evaluate      0.18    2022-11-07 [?] CRAN (R 4.2.2)
#&gt;  P fansi         1.0.3   2022-03-24 [?] CRAN (R 4.2.1)
#&gt;  P farver        2.1.1   2022-07-06 [?] CRAN (R 4.2.1)
#&gt;  P fastmap       1.1.0   2021-01-25 [?] CRAN (R 4.2.1)
#&gt;  P fs            1.5.2   2021-12-08 [?] CRAN (R 4.2.1)
#&gt;  P generics      0.1.3   2022-07-05 [?] CRAN (R 4.2.1)
#&gt;  P ggplot2     * 3.4.0   2022-11-04 [?] CRAN (R 4.2.2)
#&gt;  P glue          1.6.2   2022-02-24 [?] CRAN (R 4.2.1)
#&gt;  P gtable        0.3.1   2022-09-01 [?] CRAN (R 4.2.1)
#&gt;  P htmltools     0.5.4   2022-12-07 [?] CRAN (R 4.2.2)
#&gt;  P htmlwidgets   1.6.1   2023-01-07 [?] CRAN (R 4.2.2)
#&gt;  P httpuv        1.6.8   2023-01-12 [?] CRAN (R 4.2.2)
#&gt;  P jsonlite      1.8.4   2022-12-06 [?] CRAN (R 4.2.2)
#&gt;  P knitr         1.40    2022-08-24 [?] CRAN (R 4.2.1)
#&gt;  P labeling      0.4.2   2020-10-20 [?] CRAN (R 4.2.1)
#&gt;  P later         1.3.0   2021-08-18 [?] CRAN (R 4.2.1)
#&gt;    lattice       0.20-45 2021-09-22 [2] CRAN (R 4.2.0)
#&gt;    lifecycle     1.0.3   2022-10-07 [1] CRAN (R 4.2.2)
#&gt;  P magrittr      2.0.3   2022-03-30 [?] CRAN (R 4.2.1)
#&gt;    Matrix        1.5-1   2022-09-13 [2] CRAN (R 4.2.1)
#&gt;  P memoise       2.0.1   2021-11-26 [?] CRAN (R 4.2.1)
#&gt;    mgcv          1.8-41  2022-10-21 [2] CRAN (R 4.2.1)
#&gt;  P mime          0.12    2021-09-28 [?] CRAN (R 4.2.1)
#&gt;  P miniUI        0.1.1.1 2018-05-18 [?] CRAN (R 4.2.2)
#&gt;  P munsell       0.5.0   2018-06-12 [?] CRAN (R 4.2.1)
#&gt;    nlme          3.1-160 2022-10-10 [2] CRAN (R 4.2.1)
#&gt;  P pillar        1.8.1   2022-08-19 [?] CRAN (R 4.2.1)
#&gt;  P pkgbuild      1.4.0   2022-11-27 [?] CRAN (R 4.2.2)
#&gt;  P pkgconfig     2.0.3   2019-09-22 [?] CRAN (R 4.2.1)
#&gt;  P pkgload       1.3.2   2022-11-16 [?] CRAN (R 4.2.2)
#&gt;  P prettyunits   1.1.1   2020-01-24 [?] CRAN (R 4.2.1)
#&gt;  P processx      3.8.0   2022-10-26 [?] CRAN (R 4.2.2)
#&gt;  P profvis       0.3.7   2020-11-02 [?] CRAN (R 4.2.2)
#&gt;  P promises      1.2.0.1 2021-02-11 [?] CRAN (R 4.2.1)
#&gt;  P ps            1.7.2   2022-10-26 [?] CRAN (R 4.2.2)
#&gt;  P purrr         1.0.1   2023-01-10 [?] CRAN (R 4.2.2)
#&gt;  P R6            2.5.1   2021-08-19 [?] CRAN (R 4.2.1)
#&gt;  P Rcpp          1.0.9   2022-07-08 [?] CRAN (R 4.2.1)
#&gt;  P remotes       2.4.2   2021-11-30 [?] CRAN (R 4.2.1)
#&gt;    renv          0.15.5  2022-05-26 [1] CRAN (R 4.2.1)
#&gt;  P rlang         1.0.6   2022-09-24 [?] CRAN (R 4.2.2)
#&gt;  P rmarkdown     2.18    2022-11-09 [?] CRAN (R 4.2.2)
#&gt;  P scales        1.2.1   2022-08-20 [?] CRAN (R 4.2.1)
#&gt;  P sessioninfo   1.2.2   2021-12-06 [?] CRAN (R 4.2.2)
#&gt;  P shiny         1.7.4   2022-12-15 [?] CRAN (R 4.2.2)
#&gt;  P stringi       1.7.8   2022-07-11 [?] CRAN (R 4.2.1)
#&gt;  P stringr       1.4.1   2022-08-20 [?] CRAN (R 4.2.1)
#&gt;  P tibble        3.1.8   2022-07-22 [?] CRAN (R 4.2.1)
#&gt;  P tidyselect    1.2.0   2022-10-10 [?] CRAN (R 4.2.2)
#&gt;  P urlchecker    1.0.1   2021-11-30 [?] CRAN (R 4.2.2)
#&gt;  P usethis       2.1.6   2022-05-25 [?] CRAN (R 4.2.2)
#&gt;  P utf8          1.2.2   2021-07-24 [?] CRAN (R 4.2.1)
#&gt;    vctrs         0.5.1   2022-11-16 [1] CRAN (R 4.2.2)
#&gt;    withr         2.5.0   2022-03-03 [1] CRAN (R 4.2.2)
#&gt;  P xfun          0.34    2022-10-18 [?] CRAN (R 4.2.2)
#&gt;  P xtable        1.8-4   2019-04-21 [?] CRAN (R 4.2.1)
#&gt;  P yaml          2.3.6   2022-10-18 [?] CRAN (R 4.2.2)
#&gt; 
#&gt;  [1] /home/raphael/perso/R-advanced-git/renv/library/R-4.2/x86_64-pc-linux-gnu
#&gt;  [2] /usr/lib/R/library
#&gt; 
#&gt;  P ── Loaded and on-disk path mismatch.
#&gt; 
#&gt; ──────────────────────────────────────────────────────────────────────────────</code></pre>
</div>
</div>
</section>
<section id="reproductibilité" class="slide level2">
<h2>Reproductibilité</h2>
<p>Pour s’assurer de la reproductibilité, il faut pouvoir reproduire son environnement :</p>
<div>
<ul>
<li class="fragment">Savoir quelle version de R a été utilisée</li>
<li class="fragment">Savoir quelles librairies ont été appelées, et quelle était leur version</li>
<li class="fragment">Pouvoir reconstruire cet environnement</li>
</ul>
</div>
<div class="fragment">
<p>Un outil : <code>renv</code></p>
</div>
</section>
<section id="renv" class="slide level2">
<h2><code>renv</code></h2>
<div>
<ul>
<li class="fragment">Librairie <a href="https://rstudio.github.io/renv/articles/renv.html"><code>renv</code></a></li>
<li class="fragment">Philosophie : isoler les dépendances d’un projet pour le rendre reproductible dans le temps</li>
<li class="fragment">Management local des dépendances et des environnements</li>
<li class="fragment">Similaire à <a href="https://docs.python.org/3/library/venv.html"><code>venv</code></a> en Python</li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-note callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>.libPaths()</strong></p>
</div>
<div class="callout-content">
<p>L’utilisation de <code>renv</code> facilite la gestion des versions et la configurations des libPaths()…</p>
</div>
</div>
</div>
</div>
</section>
<section id="renv-workflow" class="slide level2">
<h2><code>renv</code> : workflow</h2>
<div>
<ul>
<li class="fragment"><code>renv::init()</code> : pour initialiser un projet avec <code>renv</code></li>
<li class="fragment"><code>renv::snapshot()</code> : sauvegarder les références aux dépendances dans un fichier <code>renv.lock</code></li>
<li class="fragment"><code>renv::restore()</code> : pour retourner à l’état référencé dans le fichier <code>renv.lock</code></li>
</ul>
</div>
<div class="fragment">
<div class="callout callout-warning callout-captioned callout-style-default">
<div class="callout-body">
<div class="callout-caption">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Limites</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Dépendances systèmes : <a href="https://www.docker.com/">docker</a> ? Voir <a href="https://colinfay.me/docker-r-reproducibility/">ce post de blog</a> pour une intro.</li>
<li>Librairies archivées du CRAN</li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="renv-avantages" class="slide level2">
<h2><code>renv</code> : avantages</h2>
<div>
<ul>
<li class="fragment">Gestion globale d’un cache : optimisation d’espace disque et de temps de sauvegarde</li>
<li class="fragment">Possible d’utiliser des versions différentes de librairies dans différents projets sans avoir à configurer manuellement les <code>.libPaths()</code></li>
<li class="fragment">Facilite la <a href="https://rstudio.github.io/renv/articles/collaborating.html">collaboration</a></li>
</ul>
</div>
</section></section>
<section>
<section id="en-résumé" class="title-slide slide level1 center">
<h1>En résumé</h1>

</section>
<section id="en-résumé-1" class="slide level2">
<h2>En résumé</h2>
<div>
<ol type="1">
<li class="fragment"><code>quarto</code> : programmation littéraire. Utile pour les rapports, blogs, EDA… Et pour vous faire un ‘portfolio’ facilement !</li>
<li class="fragment"><code>targets</code> : pour les études longues. Renforce la reproductibilité et facilite la vie au quotidien en gagnant en qualité de rendu et en productivité</li>
<li class="fragment"><code>renv</code> : gestion de l’environnement, un point essentiel de la reproductibilité des résultats</li>
</ol>
</div>
</section></section>
<section>
<section id="annexes" class="title-slide slide level1 center">
<h1>Annexes</h1>

</section>
<section id="liens-complémentaires" class="slide level2">
<h2>Liens complémentaires</h2>
<ul>
<li><a href="https://quarto.org/">documentation quarto</a></li>
<li><a href="https://docs.ropensci.org/targets/">targets package</a></li>
<li><a href="https://github.com/wlandau/targets-tutorial">2018 - targets tutorial</a></li>
<li><a href="https://books.ropensci.org/targets/">targets manual</a></li>
<li><a href="https://rstudio.github.io/renv/index.html">renv</a> with very precious explanatory articles.</li>
</ul>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="cours_4_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="cours_4_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="cours_4_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="cours_4_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>